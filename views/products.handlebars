{{!-- title of page --}}
<div class="d-flex justify-content-center">
  <h1 class="m-4">Products</h1>
</div>

{{!-- all product display --}}
<div class="row">
  <div class="d-flex flex-column gap-4 col-lg-4 col-md-6 col-sm-12">
    {{> add-product }}
    <div class="accordion mx-4" id="accordionProdcuts">
      {{#each products}}
        <div class="accordion-item bg-dark text-info">
          <h2 class="accordion-header" id="heading-{{id}}">
            <button class="accordion-button bg-warning fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-{{id}}" aria-expanded="true" aria-controls="collapse-{{id}}" data-id="{{id}}">
                {{item_name}}
            </button>
          </h2>
          <div id="collapse-{{id}}" class="accordion-collapse collapse" aria-labelledby="heading-{{id}}" data-bs-parent="#accordionProdcuts">
            <div class="row">
              <div class="d-flex col-md-6 col-sm-12">
                <div class="accordion-body d-flex">
                  
                  <div class="col-12">
                    <div class="form-inline mb-2">
                      <label for="product-id" class="me-2">ID:</label>
                      <input type="text" id="product-id" class="form-control text-warning bg-dark" value="{{id}}" data-id="{{id}}" disabled>
                    </div>
                    <div class="form-inline mb-2">
                      <label for="product-name" class="me-2">Name:</label>
                      <input type="text" id="product-name-{{id}}" class="form-control text-warning bg-dark" value="{{item_name}}" data-id="{{id}}" disabled>
                    </div>
                    <div class="form-inline mb-2">
                      <label for="product-price" class="me-2">Price: $</label>
                      <input type="text" id="product-price-{{id}}" class="form-control text-warning bg-dark" value="{{price}}" data-id="{{id}}" disabled>
                    </div>
                    <div class="form-inline mb-2">
                      <label for="product-stock" class="me-2">Stock:</label>
                      <input type="text" id="product-stock-{{id}}" class="form-control text-warning bg-dark" value="{{stock}}" data-id="{{id}}" disabled>
                    </div>
                    <div class="form-inline mb-2">
                      <label for="category-dropdown" class="me-2">Category:</label>
                      <select id="category-dropdown-{{id}}" class="form-select text-warning bg-dark" data-id="{{id}}" disabled>
                        {{#each ../categories}}
                        <option value="{{id}}" {{#if (eq id ../category.id)}}selected{{/if}}>{{name}}</option>
                        {{/each}}
                      </select>
                    </div>
                  </div>

                </div>
              </div>
              <div class="d-flex col-md-6 col-sm-12 align-items-start my-auto justify-content-center ">
                <button class="btn btn-warning m-3 edit-product" data-id="{{id}}">Edit</button>
                <button class="btn btn-success m-3 save-product d-none" data-id="{{id}}">Save</button>
                <button class="btn btn-warning m-3 cancel-product d-none" data-id="{{id}}">Cancel</button>
                <button class="btn btn-danger m-3 delete-product" data-id="{{id}}">Delete</button>
              </div>
            </div>
          </div>
        </div>   
      {{/each}}
    </div>
  </div>
  <figure class="col-md-6 col-sm-12">
      <img class="img-fluid custom-image" src="/images/swamp.png" alt="Green pixelated swamp with creature">
  </figure>
</div>

<script src="/js/products.js"></script>
<script src="/js/categories.js"></script>
